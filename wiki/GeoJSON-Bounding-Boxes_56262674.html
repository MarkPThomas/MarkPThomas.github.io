<!DOCTYPE html>
<html>
    <head>
        <title>mark-p-thomas : GeoJSON Bounding Boxes</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">mark-p-thomas</a></span>
                            </li>
                                                    <li>
                                <span><a href="mark-p-thomas_229583.html">mark-p-thomas</a></span>
                            </li>
                                                    <li>
                                <span><a href="Apps_819631.html">Apps</a></span>
                            </li>
                                                    <li>
                                <span><a href="Libraries_52559918.html">Libraries</a></span>
                            </li>
                                                    <li>
                                <span><a href="GeoJSON_52559930.html">GeoJSON</a></span>
                            </li>
                                                    <li>
                                <span><a href="GeoJSON-Documentation_52559961.html">GeoJSON Documentation</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            mark-p-thomas : GeoJSON Bounding Boxes
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Mark Thomas</span>, last modified on Nov 08, 2023
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="panel" style="background-color: #EAE6FF;border-color: #998DD9;border-width: 1px;"><div class="panelContent" style="background-color: #EAE6FF;">
<p>These terms adhere to <a class="external-link" href="https://datatracker.ietf.org/doc/html/rfc7946#section-5" rel="nofollow">RFC 7946 - The GeoJSON Format</a>.</p>
</div></div><p>Often referred to as <code>bbox</code>, Bounding Boxes contain information on the coordinate range for GeoJSON <a href="GeoJSON-Geometries_56164374.html" data-linked-resource-id="56164374" data-linked-resource-version="10" data-linked-resource-type="page">Geometries</a>, <a href="GeoJSON-Feature_56229910.html" data-linked-resource-id="56229910" data-linked-resource-version="12" data-linked-resource-type="page">Features</a>, or <a href="GeoJSON-FeatureCollection_56754211.html" data-linked-resource-id="56754211" data-linked-resource-version="9" data-linked-resource-type="page">FeatureCollections</a>. At a minimum, a bounding box will have two <a href="GeoJSON-Point_56557583.html" data-linked-resource-id="56557583" data-linked-resource-version="9" data-linked-resource-type="page">Points</a> or four coordinates which define the box. A 3rd dimensional bounding box can be produced if <a href="GeoJSON-Point_56557583.html" data-linked-resource-id="56557583" data-linked-resource-version="9" data-linked-resource-type="page">elevation or altitude</a> is defined. </p><p>The convention for the two <a href="GeoJSON-Point_56557583.html" data-linked-resource-id="56557583" data-linked-resource-version="9" data-linked-resource-type="page">Points</a> is [lower-left (southwest) corner, upper-right (northeast) corner].</p><p>This object type is immutable.</p><h2 id="GeoJSONBoundingBoxes-JSONExample&amp;ClassDiagram">JSON Example &amp; Class Diagram</h2><h3 id="GeoJSONBoundingBoxes-RawGeoJSON">Raw GeoJSON</h3><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence"> [100.0, 0.0, -100.0, 105.0, 1.0, 0.0]</pre>
</div></div><p>With a schema below:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">[
  SW Longitude, 
  SW Latitude, 
  SW Altitude, 
  NE Longitude, 
  NE Latitude, 
  NE Altitude
]</pre>
</div></div><h3 id="GeoJSONBoundingBoxes-ClassDiagram">Class Diagram</h3><p>For a dynamic interactive diagram, see the <a class="external-link" href="https://www.figma.com/file/7NkfV8lY1IBLlSOR6DO1E1/GeoJSON?type=whiteboard&amp;node-id=0%3A1&amp;t=BoEaPRrIGaEYCxGN-1" rel="nofollow">FigJam diagram</a>.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="614" loading="lazy" src="attachments/56262674/57311233.png?width=614" data-image-src="attachments/56262674/57311233.png" data-height="412" data-width="614" data-unresolved-comment-count="0" data-linked-resource-id="57311233" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Screen Shot 2023-11-08 at 6.03.41 PM.png" data-base-url="https://markpthomas.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="56262674" data-linked-resource-container-version="14" data-media-id="5909e9c9-cf01-41ea-8001-0287e6512792" data-media-type="file"></span><h2 id="GeoJSONBoundingBoxes-ReadingfromJSON">Reading from JSON</h2><p>If there is a bounding box defined in the raw JSON geometry, this is specified as the bounding box for the created object. Take note that it is assumed that these bounding boxes are assumed to be correct, or any deviation is intended by the user. In this case, if the incoming JSON object has an incorrect bounding box, this will be preserved. Such a discrepancy is only corrected by creating a new object &amp; then accessing the bounding box.</p><h2 id="GeoJSONBoundingBoxes-LazyLoading&amp;Updates">Lazy Loading &amp; Updates</h2><p>Even Points may have Bounding Boxes, so it is unreasonable to have bounding boxes for every single object contained within the GeoJSON object. As such, the library does the following:</p><ol start="1"><li><p>If there is a bounding box defined in the raw JSON geometry, this is specified as the bounding box for the created object.</p></li><li><p>Otherwise, the property is left empty for a given parent object. </p><ol start="1"><li><p>If a user attempts to access the property, it is <a class="external-link" href="https://en.wikipedia.org/wiki/Lazy_loading" rel="nofollow">lazy loaded</a> at that time and stored. This lazy loading creates a new bounding box by considering all <a href="GeoJSON-Point_56557583.html" data-linked-resource-id="56557583" data-linked-resource-version="9" data-linked-resource-type="page">Points</a> &amp; <a href="GeoJSON-Geometries_56164374.html" data-linked-resource-id="56164374" data-linked-resource-version="10" data-linked-resource-type="page">Geometries</a> contained within.</p></li></ol></li></ol><p>Apart from <a href="GeoJSON-Collections_56393733.html" data-linked-resource-id="56393733" data-linked-resource-version="5" data-linked-resource-type="page">collections</a> &amp; <a href="GeoJSON-Feature_56229910.html" data-linked-resource-id="56229910" data-linked-resource-version="12" data-linked-resource-type="page">features</a>, GeoJSON objects are <em><strong>immutable</strong></em>, so bounding boxes do not change. Instead, a new object is created that will lazy load a bounding box as needed.</p><p>For <a href="GeoJSON-Collections_56393733.html" data-linked-resource-id="56393733" data-linked-resource-version="5" data-linked-resource-type="page">collections</a> &amp; <a href="GeoJSON-Feature_56229910.html" data-linked-resource-id="56229910" data-linked-resource-version="12" data-linked-resource-type="page">features</a>, a <a class="external-link" href="https://gameprogrammingpatterns.com/dirty-flag.html" rel="nofollow">dirty flag pattern</a> is used to track when items are added/removed in collections, or a geometry child of a feature is changed. In these cases, the lazy loading trigger is reset so that a new bounding box is created when needed.</p><h2 id="GeoJSONBoundingBoxes-WritingtoJSON">Writing to JSON</h2><p>All bounding boxes that have been loaded in a session will be written out to a JSON object. In the simplest case, this means that bounding boxes in the original JSON object are preserved. Additionally more bounding boxes are computationally added to the output by accessing them in the objects.</p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/56262674/56229925.png">Screen Shot 2023-11-08 at 10.42.49 AM.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/56262674/57311233.png">Screen Shot 2023-11-08 at 6.03.41 PM.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Nov 09, 2023 00:28</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
